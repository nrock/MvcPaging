@model IPagedList<MvcPaging.Demo.Models.Product>

<div class="search">


    @using (Ajax.BeginForm("AjaxPage", "Paging",
    new AjaxOptions {  UpdateTargetId = "gridcontainer", HttpMethod = "GET", InsertionMode = InsertionMode.Replace} ))
    {
        <fieldset>  
            <input type="text" placeholder="search" name="search" value="@Model.SearchString" /> 
            <input type="submit" value="Submit" />
        </fieldset>
    }
     


</div>
<table class="grid">
    <thead>
        <tr>
            <th>Product name</th>
            <th>Category</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var product in Model)
        {
            <tr>
                <td>@product.Name</td>
                <td>@product.Category</td>
            </tr>
        }
    </tbody>
</table>
<div class="pager">
    @Html.Pager(Model.PageSize, Model.PageNumber, Model.TotalItemCount, Model.SearchString, string.Empty, string.Empty, new AjaxOptions
    {
        OnBegin = "beginPaging",
        OnSuccess = "successPaging",
        UpdateTargetId = "gridcontainer"
    }).Options(o => o.Action("AjaxPage"))

    Displaying @Model.ItemStart - @Model.ItemEnd of @Model.TotalItemCount item(s)

</div>


<script type="text/javascript">



    function beginPaging(args) {
        // Animate
        $('#gridcontainer').block({ message: null });
    }

    function successPaging() {
        // Animate
        $('#gridcontainer').unblock(); 
    }

    function failurePaging() {
        alert("Could not retrieve list.");
    }

</script>

